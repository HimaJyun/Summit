<div class="contents-info">
    {{- $author := "Anonymous" -}}
    {{- with .GitInfo -}}
        {{- $author = .AuthorName -}}
    {{- end -}}
    {{- with (.Param "author") -}}
        {{- $author = . -}}
    {{- end -}}
    <div class="contents-info-author vcard author">
        <span class="contents-info-author-text">Author:&nbsp;</span>{{- /*remove space*/ -}}
        <span class="contents-info-author-value fn">{{$author}}</span>
    </div>

    {{- $ps := .PublishDate.Format "2006-01-02" -}}
    {{- $pl := .PublishDate.Format "2006-01-02T15:04:05-0700" -}}
    {{- $us := .Lastmod.Format "2006-01-02" -}}
    {{- $ul := .Lastmod.Format "2006-01-02T15:04:05-0700" -}}
    {{- $updated := ne $ps $us -}}
    <div class="contents-info-published">
        {{- $class := "updated" -}}
        {{- if $updated -}}
            {{- $class = "published" -}}
        {{- end -}}
        <span class="contents-info-published-text">Published:&nbsp;</span>{{- /**/ -}}
        {{- printf `<time class="contents-info-published-value date %s" datetime="%s">%s</time>` $class $pl $ps | safeHTML -}}
    </div>
    {{- if $updated -}}
    <div class="contents-info-updated">
        <span class="contents-info-updated-text">Updated:&nbsp;</span>{{- /**/ -}}
        {{- printf `<time class="contents-info-updated-value date updated" datetime="%s">%s</time>` $ul $us| safeHTML -}}
    </div>
    {{- end -}}

    {{- with .Params.categories -}}
    <div class="contents-info-categorys">
        <span class="contents-info-categorys-text">Category:&nbsp;</span>{{- /**/ -}}
        <span class="contents-info-categorys-value">{{- range . -}}
            <a rel="tag" href="{{ printf "/categories/%s/" (urlize .) | absURL }}">{{ . }}</a>&#32;
        {{- end -}}</span>
    </div>
    {{- end -}}

    {{- with .Params.tags -}}
        <div class="contents-info-tags">
            <span class="contents-info-tags-text">Tag:&nbsp;</span>{{- /**/ -}}
            <span class="contents-info-tags-value">{{- range . -}}
                <a rel="tag" href="{{ printf "/tags/%s/" (urlize .) | absURL }}">{{ . }}</a>&#32;
            {{- end -}}</span>
        </div>
    {{- end -}}

    {{- if .GitInfo -}}
        {{- with .Site.Params.pageinfo.commit -}}
            <div class="contents-info-commit">
                <span class="contents-info-commit-text">Commit:&nbsp;</span>{{- /**/ -}}
                <span class="contents-info-commit-value">{{ replace . "{{hash}}" $.GitInfo.Hash | safeHTML }}</span>
            </div>
        {{- end -}}

        {{- with .Site.Params.pageinfo.change -}}
            <div class="contents-info-change">
                <span class="contents-info-change-text">Change:&nbsp;</span>{{- /**/ -}}
                <span class="contents-info-change-value">{{ replace . "{{file}}" $.File.Path | safeHTML }}</span>
            </div>
        {{- end -}}

        {{- if (.Site.Params.pageinfo.subject | default false) -}}
            <div class="contents-info-subject">
                <span class="contents-info-subject-text">Subject:&nbsp;</span>{{- /**/ -}}
                <span class="contents-info-subject-value">{{.GitInfo.Subject}}</span>
            </div>
        {{- end -}}
    {{- end -}}
</div>
